¬°Perfecto! Vamos a expandir el **Tema 1 (T1)**. Esta documentaci√≥n est√° dise√±ada para que la sigas paso a paso, como si yo estuviera sentado a tu lado gui√°ndote.

El objetivo de este ejercicio es entender la diferencia te√≥rica y, sobre todo, **aprender a levantar una base de datos relacional en la nube y conectarnos a ella desde fuera de AWS** (tu casa/oficina).

---

# üìò T1. No Relacionales vs Relacionales y Creaci√≥n de RDS P√∫blica

## 1. Introducci√≥n Te√≥rica (Lo que debes saber para el examen)

Antes de tocar la consola, aseg√∫rate de entender qu√© vas a crear.

*   **Bases de Datos Relacionales (RDS en AWS):**
    *   **¬øQu√© son?** Son las bases de datos "de toda la vida" (SQL). Guardan la informaci√≥n en **tablas** con filas y columnas (como un Excel gigante y estricto).
    *   **Caracter√≠sticas:** Tienen un esquema fijo (si una tabla tiene 3 columnas, no puedes meter datos de una 4¬™ columna sin cambiar la estructura antes).
    *   **Motores en AWS:** Amazon RDS soporta 6 motores: **MySQL, PostgreSQL, MariaDB, Oracle, Microsoft SQL Server** y **Amazon Aurora**.
    *   **Uso:** Sistemas de facturaci√≥n, inventarios, usuarios, bancos.

*   **Bases de Datos No Relacionales (NoSQL):**
    *   **¬øQu√© son?** Bases de datos flexibles. No usan tablas, suelen usar documentos (JSON) o pares Clave-Valor.
    *   **Caracter√≠sticas:** Esquema flexible (un dato puede tener nombre y apellido, y el siguiente solo nombre y tel√©fono).
    *   **Motores en AWS:** **DynamoDB** (Clave-Valor), **DocumentDB** (Documentos), **Neptune** (Grafos).
    *   **Uso:** Carritos de compra, sesiones de usuario, cat√°logos de productos masivos, redes sociales.

---

## 2. Ejercicio Pr√°ctico: Crear RDS (Acceso P√∫blico)

Vamos a crear una instancia de MySQL en la capa gratuita. **No te saltes ning√∫n paso de configuraci√≥n.**

### Paso 1: Entrar en el servicio
1.  Inicia sesi√≥n en tu consola de AWS.
2.  En la barra de b√∫squeda superior, escribe **RDS**.
3.  Haz clic en **RDS** (Managed Relational Database Service).
4.  En el men√∫ de la izquierda, haz clic en **Databases** (Bases de datos).
5.  Haz clic en el bot√≥n naranja **Create database** (Crear base de datos).

### Paso 2: Configuraci√≥n del Motor
Ahora ver√°s un asistente largo. Config√∫ralo as√≠:

1.  **Choose a database creation method (M√©todo de creaci√≥n):**
    *   Selecciona: **Standard create** (Creaci√≥n est√°ndar). *Nota: Nunca uses "Easy create" en un examen o pr√°ctica avanzada porque te ocultar√° opciones de red importantes.*
2.  **Engine options (Opciones del motor):**
    *   Selecciona: **MySQL**.
3.  **Engine Version:**
    *   Deja la que viene por defecto (generalmente MySQL 8.0.xx).
4.  **Templates (Plantillas):**
    *   üî¥ **MUY IMPORTANTE:** Selecciona **Free Tier** (Capa gratuita).
    *   *¬øPor qu√©?* Esto limitar√° las opciones siguientes para asegurar que no te cobren y simplificar√° la elecci√≥n de potencia.

### Paso 3: Configuraci√≥n de la Instancia
1.  **Settings (Configuraci√≥n):**
    *   **DB instance identifier:** Escribe `rds-examen-publica`. (Este es el nombre de la m√°quina en AWS, no el de la base de datos interna).
    *   **Master username:** Escribe `admin`.
    *   **Master password:** Escribe una contrase√±a segura pero f√°cil de recordar, por ejemplo: `Admin12345`.
    *   **Confirm password:** Repite `Admin12345`.
2.  **Instance configuration (Configuraci√≥n de la instancia):**
    *   Al haber elegido "Free Tier", AWS preseleccionar√° **db.t3.micro** o **db.t2.micro**. D√©jalo tal cual.
3.  **Storage (Almacenamiento):**
    *   Deja los valores por defecto (20 GiB, gp2 o gp3).
    *   *Opcional:* Desmarca la casilla "Enable storage autoscaling" para evitar que crezca sola si te equivocas metiendo datos (aunque en este ejercicio no pasar√°).

### Paso 4: Conectividad (El punto cr√≠tico del ejercicio)
Aqu√≠ es donde se decide si podr√°s conectarte desde tu casa.

1.  **Compute resource:** Selecciona "Don‚Äôt connect to an EC2 compute resource".
2.  **VPC:** Deja la "Default VPC" (la que viene por defecto).
3.  **Public access (Acceso p√∫blico):**
    *   üî¥ **Selecciona: Yes**.
    *   *Explicaci√≥n:* Esto asigna una direcci√≥n IP p√∫blica a la base de datos. Sin esto, es IMPOSIBLE conectar desde tu PC personal (Terminal o Workbench).
4.  **VPC Security Group (Grupo de seguridad):**
    *   Selecciona: **Create new** (Crear nuevo).
    *   **New VPC security group name:** Escribe `sg-rds-publica`.
    *   *Explicaci√≥n:* El Security Group es el firewall virtual. Al crear uno nuevo aqu√≠, AWS a√±adir√° autom√°ticamente una regla para permitir el tr√°fico en el puerto 3306 desde "Tu direcci√≥n IP actual".
5.  **Availability Zone:** No preference.

### Paso 5: Autenticaci√≥n y Creaci√≥n
1.  **Database authentication:** Selecciona **Password authentication**.
2.  **Additional configuration (Configuraci√≥n adicional):**
    *   Haz clic para desplegar.
    *   **Initial database name:** Escribe `mibasedatos`. (Si dejas esto en blanco, MySQL arranca sin crear ninguna base de datos l√≥gica dentro).
    *   Desmarca las copias de seguridad autom√°ticas (Enable automated backups) si solo es una prueba r√°pida, para que se cree m√°s r√°pido, pero para el examen d√©jalo marcado por defecto.
3.  Baja al final del todo y haz clic en el bot√≥n naranja **Create database**.

---

## 3. Obtener el Endpoint (Punto de enlace)

Ahora la base de datos estar√° en estado **Creating**. Tarda entre 5 y 10 minutos.

1.  Espera a que el estado (Status) cambie a verde: **Available**.
2.  Haz clic sobre el nombre de tu base de datos: `rds-examen-publica`.
3.  Baja a la pesta√±a **Connectivity & security**.
4.  Busca el apartado **Endpoint**. Ver√°s algo parecido a esto:
    `rds-examen-publica.c123456789.us-east-1.rds.amazonaws.com`
5.  **Copia ese enlace.** Esa es la "direcci√≥n web" de tu base de datos.
6.  Anota tambi√©n el puerto (Port): **3306**.

---

## 4. Conectar desde Terminal

*Requisito:* Debes tener instalado un cliente MySQL en tu ordenador. Si tienes Windows y no tienes MySQL instalado, quiz√°s prefieras saltar al paso de Workbench, pero para el examen suelen pedir saber el comando.

1.  Abre tu terminal (CMD o PowerShell en Windows, Terminal en Mac/Linux).
2.  Escribe el siguiente comando (sustituyendo los valores):

    ```bash
    mysql -h PEGA_AQUI_TU_ENDPOINT -P 3306 -u admin -p
    ```
    *   `-h`: Host (el endpoint que copiaste).
    *   `-P`: Puerto (3306).
    *   `-u`: Usuario (admin).
    *   `-p`: Pide la contrase√±a (no la escribas aqu√≠, dale a Enter).

3.  Te pedir√° **Enter password:**. Escribe `Admin12345` (nota: en Linux/Mac no ver√°s los asteriscos mientras escribes).
4.  Si todo ha ido bien, ver√°s el mensaje de bienvenida de MySQL y el prompt cambiar√° a:
    `mysql>`
5.  Prueba que funciona escribiendo:
    ```sql
    SHOW DATABASES;
    ```
    Deber√≠as ver `mibasedatos` en la lista.
6.  Para salir escribe `exit`.

---

## 5. Conectar desde Workbench

Esta es la forma visual y la m√°s com√∫n en entornos laborales.

1.  Abre el programa **MySQL Workbench**.
2.  En la pantalla de inicio, junto a "MySQL Connections", haz clic en el s√≠mbolo **(+)**.
3.  Se abrir√° la ventana "Setup New Connection":
    *   **Connection Name:** Escribe `Examen AWS RDS`.
    *   **Connection Method:** Standard (TCP/IP).
    *   **Hostname:** Pega el **Endpoint** largo que copiaste de la consola de AWS.
    *   **Port:** 3306.
    *   **Username:** `admin`.
    *   **Password:** Haz clic en "Store in Vault..." (o "Store in Keychain"). Escribe `Admin12345` y acepta.
4.  Antes de aceptar, haz clic en el bot√≥n de abajo: **Test Connection**.
5.  Si sale un popup verde diciendo "Successfully made the MySQL connection", ¬°Enhorabuena!
    *   Si sale error, revisa la secci√≥n de problemas abajo.
6.  Dale a OK para guardar la conexi√≥n y haz doble clic sobre ella para entrar. Ya puedes crear tablas y hacer consultas visualmente.

---

## ‚ö†Ô∏è Resoluci√≥n de Problemas (Troubleshooting)

Si al intentar conectar te da un error de **"Connection Timed Out"** o **"Can't connect to MySQL server"**:

El problema el 99% de las veces es el **Security Group**.

1.  Vuelve a la consola de AWS -> RDS -> Tu base de datos.
2.  En la pesta√±a **Connectivity & security**, mira a la derecha donde dice **VPC security groups**. Haz clic en el enlace activo (ej. `sg-rds-publica`).
3.  Esto te llevar√° a la pantalla de grupos de seguridad.
4.  Haz clic en la pesta√±a inferior **Inbound rules** (Reglas de entrada).
5.  Debes ver una regla que diga:
    *   **Type:** MySQL/Aurora (3306)
    *   **Source:** Tu IP p√∫blica.
6.  **Si tu IP ha cambiado** (reiniciaste el router) o est√°s usando otra red, la regla antigua ya no vale.
7.  Dale a **Edit inbound rules**.
8.  Borra la regla existente o ed√≠tala.
9.  En **Source** (Fuente), selecciona **My IP** (Mi IP). AWS detectar√° tu IP actual autom√°ticamente.
10. Dale a **Save rules**.
11. Intenta conectar de nuevo.

---

¬øListo con el T1? Si has conseguido conectar con Workbench, av√≠same y pasamos a la versi√≥n detallada del **T2**.