Aqu칤 tienes una gu칤a detallada paso a paso para resolver la **Pr치ctica 4.1. Implementaci칩n MultiAZ**, basada en el documento PDF proporcionado.

---

# Gu칤a Paso a Paso: Pr치ctica 4.1 - Implementaci칩n de MultiAZ y Cl칰steres en RDS

Esta pr치ctica se divide en dos partes: primero convertir치s una instancia simple en una configuraci칩n de Alta Disponibilidad (Multi-AZ) y despu칠s crear치s un Cl칰ster Multi-AZ m치s complejo con r칠plicas de lectura.

### Parte 1: Implementaci칩n de una instancia de BD Multi-AZ

El objetivo aqu칤 es crear una base de datos sencilla y luego modificarla para que tenga una r칠plica en espera (Standby) en otra zona de disponibilidad.

**Paso 1: Crear la instancia b치sica y obtener el c칩digo CLI**

1. Entra en la consola de AWS y ve al servicio **RDS**.
2. Haz clic en **"Crear base de datos"**.
3. Selecciona **Creaci칩n est치ndar** y el motor **MySQL** (o el que est칠is usando en clase, suele ser lo m치s est치ndar).
4. En **Plantillas**, selecciona **Capa gratuita** (o Dev/Test si no tienes capa gratuita) para hacer una configuraci칩n b치sica y "cutre" como pide el enunciado.


5. Configura lo b치sico: identificador, usuario y contrase침a.
6. **IMPORTANTE (Console-To-Code):** Antes de darle al bot칩n final de crear, busca en la parte derecha (o al final) la secci칩n "Console-To-Code" o "Ver c칩digo CLI".
* Copia el comando que aparece ah칤.
* Gu치rdalo en un archivo de texto. Lo necesitar치s para la Pr치ctica 4.3.




7. Haz clic en **"Crear base de datos"** y espera a que est칠 en estado "Disponible".

**Paso 2: Modificar a Multi-AZ**

1. Selecciona la instancia que acabas de crear.
2. Haz clic en **"Modificar"**.
3. Busca la secci칩n **Disponibilidad y durabilidad** (Availability & durability).
4. Cambia la opci칩n de "Instancia de base de datos 칰nica" a **"Instancia de base de datos Multi-AZ"** (Crear una r칠plica en espera/Standby instance).


5. Dale a **Continuar**.
6. En el resumen de cambios, selecciona **"Aplicar inmediatamente"** (Apply Immediately) para no esperar a la ventana de mantenimiento.
7. Confirma la modificaci칩n. La instancia pasar치 a estado "Modifying".

游닝 **CAPTURA 1:**
Toma una captura de la pantalla de detalles de la instancia donde ponga **"Multi-AZ: S칤"** o donde se vea que la "Zona de disponibilidad secundaria" est치 definida.

---

### Parte 2: Implementaci칩n de un Cl칰ster de BD Multi-AZ

Aqu칤 crear치s una infraestructura m치s potente con 1 escritor y 2 lectores en diferentes zonas .

**Paso 1: Crear el Cl칰ster**

1. Vuelve a hacer clic en **"Crear base de datos"**.
2. Elige **MySQL** o **PostgreSQL**.
3. **Selecci칩n de Plantilla:** Debes elegir **"Desarrollo y pruebas"** (Dev/Test) o "Producci칩n".
* 
*Raz칩n:* El enunciado indica claramente que en la "Capa gratuita" **no** tenemos la opci칩n de cl칰ster MultiAZ.




4. **Opciones de implementaci칩n:**
* Selecciona **"Cl칰ster de base de datos multi-AZ"** (Multi-AZ DB Cluster).
* Esta opci칩n crea autom치ticamente una instancia principal (Writer) y dos r칠plicas de lectura (Readers) en tres zonas de disponibilidad diferentes.




5. Configura el resto (tipo de instancia, usuario, contrase침a) y crea la base de datos.
* *Nota:* Esto tardar치 un poco m치s en crearse porque levanta 3 m치quinas virtuales.



**Paso 2: Verificar la arquitectura**
Una vez creada, ver치s que aparece un "agrupador" (el cl칰ster) y debajo tres instancias:

* Una con el rol **"Instancia de escritor"** (Writer).
* Dos con el rol **"Instancia de lector"** (Reader).
Todas en zonas diferentes (ej. `us-east-1c`, `us-east-1b`, `us-east-1f`) .



**Paso 3: Provocar el Failover (Conmutaci칩n por error)**

1. Selecciona la instancia que actualmente sea **"Instancia de escritor"**.
2. Ve al bot칩n **Acciones** > **Conmutaci칩n por error** (Failover).


3. Confirma la acci칩n.
4. Observa el proceso: El sistema promocionar치 una de las instancias "Lector" para que se convierta en el nuevo "Escritor".

游닝 **CAPTURA 2 (Verificaci칩n del Cluster):**
Una captura del panel principal de RDS donde se vea la estructura de 치rbol: El cl칰ster arriba y debajo las 3 instancias (1 escritor, 2 lectores).

游닝 **CAPTURA 3 (Verificaci칩n del Failover):**
Una captura tomada despu칠s del Failover donde se vea que la instancia que antes era "Lector" ahora aparece como **"Instancia de escritor"** (ha cambiado el rol).

---

### Resumen de Entregables

Para completar la pr치ctica correctamente, tu informe debe incluir:

1. **El Comando CLI:** Copia y pega el texto del comando que obtuviste con "Console-To-Code" en la Parte 1.
2. **Captura de Multi-AZ (Parte 1):** Mostrando que la instancia simple ahora tiene Multi-AZ habilitado.
3. **Captura del Cl칰ster (Parte 2):** Mostrando las 3 instancias (1 Writer + 2 Readers) reci칠n creadas.
4. **Captura del Failover (Parte 2):** Mostrando que el rol de Escritor ha cambiado de una instancia a otra.